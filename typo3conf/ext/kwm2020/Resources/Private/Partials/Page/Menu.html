<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">

<nav id="menu">
    <header class="major">
        <h2>Menu</h2>
    </header>

    <f:if condition="{mainnavigation}">
        <ul>
            <f:for each="{mainnavigation}" as="menuItem">

                <!--f:if condition="{menuItem.active}">Aktiv</f:if-->

                <f:if condition="{menuItem.children}">
                    <f:then>

                        <f:render section="submenu" arguments="{title: menuItem.title, submenu: menuItem.children}"/>
                    </f:then>
                    <f:else>
                        <li><a href="{menuItem.link}">{menuItem.title}</a></li>
                    </f:else>
                </f:if>
            </f:for>
        </ul>
    </f:if>
</nav>

<f:for each="{sidebar}" as="sidebarItem">
    <li><a href="{sidebarItem.link}">{sidebarItem.title}</a></li>
</f:for>


<f:section name="submenu">
    <li>
        <span class="opener"><a href="{menuItem.link}">{title}</a></span>
        <ul>
            <f:for each="{submenu}" as="subItem">
                <li><a href="{subItem.link}">{subItem.title}</a></li>
            </f:for>
        </ul>
    </li>

</f:section>

<f:cObject typoscriptObjectPath="lib.record"/>

</html>
